{
  "resourceType": "StructureMap",
  "id": "KBVPrForOrganizationMap",
  "url": "https://gematik.de/fhir/structure-comparer/StructureMap/KBVPrForOrganizationMap",
  "name": "KBVPrForOrganizationMap",
  "status": "active",
  "version": "1.0",
  "date": "2025-12-08",
  "description": "Auto-generated StructureMap for KBV_PR_FOR_Organization|1.2.0 -> OrganizationDirectory|0.11.25",
  "structure": [
    {
      "url": "https://fhir.kbv.de/StructureDefinition/KBV_PR_FOR_Organization",
      "mode": "source",
      "alias": "KBVPRFOROrganization"
    },
    {
      "url": "https://gematik.de/fhir/directory/StructureDefinition/OrganizationDirectory",
      "mode": "target",
      "alias": "OrganizationDirectory"
    }
  ],
  "group": [
    {
      "name": "KBVPrForOrganizationMap",
      "typeMode": "types",
      "documentation": "Mapping generated for KBV_PR_FOR_Organization|1.2.0 -> OrganizationDirectory|0.11.25",
      "input": [
        {
          "name": "KBVPRFOROrganization",
          "type": "KBVPRFOROrganization",
          "mode": "source"
        },
        {
          "name": "OrganizationDirectory",
          "type": "OrganizationDirectory",
          "mode": "target"
        }
      ],
      "rule": [
        {
          "name": "OrganizationAddress042e251f",
          "documentation": "Automatic copy",
          "source": [
            {
              "context": "KBVPRFOROrganization",
              "element": "address",
              "variable": "srcKBVPRFOROrganizationAddressb2458a6a",
              "condition": "url != 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-postBox' and url != 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-precinct'"
            }
          ],
          "target": [
            {
              "context": "OrganizationDirectory",
              "contextType": "variable",
              "element": "address",
              "variable": "tgtOrganizationDirectoryAddress56874d06",
              "transform": "copy",
              "parameter": [
                {
                  "valueId": "srcKBVPRFOROrganizationAddressb2458a6a"
                }
              ]
            }
          ]
        },
        {
          "name": "OrganizationIdb231e2a0",
          "documentation": "Automatic copy",
          "source": [
            {
              "context": "KBVPRFOROrganization",
              "element": "id",
              "variable": "srcKBVPRFOROrganizationId76e5f600"
            }
          ],
          "target": [
            {
              "context": "OrganizationDirectory",
              "contextType": "variable",
              "element": "id",
              "variable": "tgtOrganizationDirectoryId4f7236b9",
              "transform": "copy",
              "parameter": [
                {
                  "valueId": "srcKBVPRFOROrganizationId76e5f600"
                }
              ]
            }
          ]
        },
        {
          "name": "OrganizationIdentifiercd09dff1",
          "documentation": "Manual action required | Wird aus `idNummer` aus dem AccessToken Ã¼bernommen, s. A_25947",
          "source": [
            {
              "context": "KBVPRFOROrganization"
            }
          ]
        },
        {
          "name": "OrganizationMetaTagOriginCodeae7288a8",
          "target": [
            {
              "context": "OrganizationDirectory",
              "element": "meta",
              "variable": "tgtOrganizationDirectoryMetacbe6e64f",
              "contextType": "variable"
            }
          ],
          "rule": [
            {
              "name": "OrganizationMetaTagOriginCodeae7288a8",
              "target": [
                {
                  "context": "tgtOrganizationDirectoryMetacbe6e64f",
                  "element": "tag",
                  "variable": "tgtOrganizationDirectoryMetaTagOrigin615a7476",
                  "contextType": "variable"
                }
              ],
              "rule": [
                {
                  "name": "OrganizationMetaTagOriginCodeae7288a8",
                  "source": [
                    {
                      "context": "KBVPRFOROrganization"
                    }
                  ],
                  "target": [
                    {
                      "context": "tgtOrganizationDirectoryMetaTagOrigin615a7476",
                      "contextType": "variable",
                      "element": "code",
                      "transform": "copy",
                      "parameter": [
                        {
                          "valueString": "ldap"
                        }
                      ]
                    }
                  ]
                }
              ],
              "source": [
                {
                  "context": "KBVPRFOROrganization"
                }
              ]
            }
          ],
          "source": [
            {
              "context": "KBVPRFOROrganization"
            }
          ],
          "documentation": "Fixed value 'ldap'"
        },
        {
          "name": "OrganizationMetaTagOriginSystem681676f7",
          "target": [
            {
              "context": "OrganizationDirectory",
              "element": "meta",
              "variable": "tgtOrganizationDirectoryMetacbe6e64f",
              "contextType": "variable"
            }
          ],
          "rule": [
            {
              "name": "OrganizationMetaTagOriginSystem681676f7",
              "target": [
                {
                  "context": "tgtOrganizationDirectoryMetacbe6e64f",
                  "element": "tag",
                  "variable": "tgtOrganizationDirectoryMetaTagOrigin615a7476",
                  "contextType": "variable"
                }
              ],
              "rule": [
                {
                  "name": "OrganizationMetaTagOriginSystem681676f7",
                  "source": [
                    {
                      "context": "KBVPRFOROrganization"
                    }
                  ],
                  "target": [
                    {
                      "context": "tgtOrganizationDirectoryMetaTagOrigin615a7476",
                      "contextType": "variable",
                      "element": "system",
                      "transform": "copy",
                      "parameter": [
                        {
                          "valueString": "https://gematik.de/fhir/directory/CodeSystem/Origin"
                        }
                      ]
                    }
                  ]
                }
              ],
              "source": [
                {
                  "context": "KBVPRFOROrganization"
                }
              ]
            }
          ],
          "source": [
            {
              "context": "KBVPRFOROrganization"
            }
          ],
          "documentation": "Fixed value 'https://gematik.de/fhir/directory/CodeSystem/Origin'"
        },
        {
          "name": "OrganizationModifierextension94bb10c7",
          "documentation": "Automatic copy",
          "source": [
            {
              "context": "KBVPRFOROrganization",
              "element": "modifierExtension",
              "variable": "srcKBVPRFOROrganizationModifierextensionb26e1635"
            }
          ],
          "target": [
            {
              "context": "OrganizationDirectory",
              "contextType": "variable",
              "element": "modifierExtension",
              "variable": "tgtOrganizationDirectoryModifierextensionf13c3dbf",
              "transform": "copy",
              "parameter": [
                {
                  "valueId": "srcKBVPRFOROrganizationModifierextensionb26e1635"
                }
              ]
            }
          ]
        },
        {
          "name": "OrganizationName61d5a4f1",
          "documentation": "Copied from 'Organization.name' | Kopiert den Namen aus der KBV-Organisation",
          "source": [
            {
              "context": "KBVPRFOROrganization",
              "element": "name",
              "variable": "srcKBVPRFOROrganizationNameabbbdc85"
            }
          ],
          "target": [
            {
              "context": "OrganizationDirectory",
              "contextType": "variable",
              "element": "name",
              "variable": "tgtOrganizationDirectoryName0e007323",
              "transform": "copy",
              "parameter": [
                {
                  "valueId": "srcKBVPRFOROrganizationNameabbbdc85"
                }
              ]
            }
          ]
        },
        {
          "name": "OrganizationTelecomb3f55102",
          "documentation": "Automatic copy",
          "source": [
            {
              "context": "KBVPRFOROrganization",
              "element": "telecom",
              "variable": "srcKBVPRFOROrganizationTelecomca093d46"
            }
          ],
          "target": [
            {
              "context": "OrganizationDirectory",
              "contextType": "variable",
              "element": "telecom",
              "variable": "tgtOrganizationDirectoryTelecom22bcd8ec",
              "transform": "copy",
              "parameter": [
                {
                  "valueId": "srcKBVPRFOROrganizationTelecomca093d46"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}